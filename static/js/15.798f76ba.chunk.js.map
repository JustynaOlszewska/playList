{"version":3,"sources":["api/apiHelper/apiHelper.js","api/apiSongs.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","constants/data.js","styles/styleComponents/playList/StyledPlayList.js","components/pages/PlayList.js"],"names":["apiURL","process","apiActions","url","method","data","a","fetch","headers","body","JSON","stringify","res","json","Error","getAllSongs","removeSong","id","addSong","updateSong","getSong","queryKey","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperty","obj","value","configurable","writable","statuses","status","navigationPlayList","pathDetail","primary","add","StyledWrapperPlayList","styled","section","StyledH1PlayList","h1","lazy","Statusses","NavigationPlayList","PlayList","match","useRouteMatch","useQuery","isLoading","isError","error","useState","items","setItems","playList","setPlayList","isOver","setIsOver","useEffect","dataCopy","parse","map","e","addToPlayList","item","newPlayList","some","index","findIndex","title","splice","isExact","moveItem","dragIndex","hoverIndex","prevState","newItems","idx","onDrop","monitor","concat","changeStatusItems","itemsCopy","itemsSongs","itemsPlaylist","massage","message"],"mappings":"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","file":"static/js/15.798f76ba.chunk.js","sourcesContent":["export const apiURL = `${process.env.REACT_APP_API_SERVER}/${process.env.REACT_APP_GITHUB_ACOUNT}`;\n\nexport const apiActions = async (url, method, data) => {\n  try {\n    const res = await fetch(url, {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n    return method === \"DELETE\" ? true : res.json();\n  } catch (error) {\n    throw new Error(`somthing went wrong: ${error}`);\n  }\n};\n","import { apiActions, apiURL } from \"./apiHelper/apiHelper\";\n\nexport const getAllSongs = () => {\n  return apiActions(`${apiURL}-songs`, \"GET\");\n};\n\nexport const removeSong = (id) => {\n  return apiActions(`${apiURL}-songs/${id}`, \"DELETE\");\n};\n\nexport const addSong = (data) => {\n  return apiActions(`${apiURL}-songs`, \"POST\", data);\n};\n\nexport const updateSong = ({ id, ...data }) => {\n  return apiActions(`${apiURL}-songs/${id}`, \"PUT\", data);\n};\n\nexport const getSong = ({ queryKey }) => {\n  /*eslint-disable no-unused-vars*/\n  const [_key, { id }] = queryKey;\n  return apiActions(`${apiURL}-songs/${id}`, \"GET\");\n};\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const statuses = [\n  {\n    status: \"songs\",\n  },\n  {\n    status: \"playList\",\n  },\n];\n\nexport const navigationPlayList = [\n  {\n    pathDetail: \"/add\",\n    primary: \"Add playlist\",\n    add: \"add\",\n  },\n  {\n    pathDetail: \"/update\",\n    primary: \"Update playlist\",\n  },\n];\n","import styled from \"styled-components\";\n\nexport const StyledWrapperPlayList = styled.section`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const StyledH1PlayList = styled.h1`\n  align-self: center;\n  margin: 15% 0;\n`;\n","import React, { useState, useEffect, lazy } from \"react\";\nimport { useRouteMatch } from \"react-router-dom\";\n\nimport { useQuery } from \"react-query\";\nimport { getAllSongs } from \"../../api/apiSongs\";\nimport { statuses } from \"../../constants/data\";\nconst Error = lazy(() => import(\"../atom/Error\"));\nconst Statusses = lazy(() => import(\"../organism/playList/Statusses\"));\nconst NavigationPlayList = lazy(() =>\n  import(\"../organism/playList/NavigationPlayList\")\n);\nimport {\n  StyledWrapperPlayList,\n  StyledH1PlayList,\n} from \"../../styles/styleComponents/playList/StyledPlayList\";\n\nconst PlayList = () => {\n  const match = useRouteMatch();\n\n  const { data, isLoading, isError, error } = useQuery(\"songs\", getAllSongs);\n\n  const [items, setItems] = useState([]);\n  const [playList, setPlayList] = useState([]);\n  const [isOver, setIsOver] = useState();\n\n  useEffect(() => {\n    if (!isLoading) {\n      const dataCopy = JSON.parse(JSON.stringify([...data]));\n      [dataCopy.map((e) => (e.status = \"songs\"))];\n      setItems(dataCopy);\n    }\n  }, [data]);\n\n  const changeStatusItems = () => {\n    const itemsCopy = JSON.parse(JSON.stringify(items));\n    const itemsSongs = itemsCopy.filter((item) => item.status === \"songs\");\n    const itemsPlaylist = itemsCopy.filter(\n      (item) => item.status === \"playList\"\n    );\n    itemsPlaylist.forEach((e) => (e.status = \"songs\"));\n    setItems([...itemsSongs, ...itemsPlaylist]);\n\n    setPlayList([]);\n  };\n\n  const onDrop = (item, monitor, status) => {\n    addToPlayList(item, status);\n    setIsOver(isOver);\n    setItems((prevState) => {\n      const newItems = prevState\n        .filter((index) => index.id !== item.id)\n        .concat({ ...item, status });\n      return [...newItems];\n    });\n  };\n\n  const addToPlayList = (item, status) => {\n    const newPlayList = playList.some((e) => e.id === item.id);\n\n    if (status === \"playList\") {\n      !newPlayList && setPlayList([...playList, item]);\n    } else if (status === \"songs\") {\n      const index = playList.findIndex((e) => e.title === item.title);\n      newPlayList && playList.splice(index, 1);\n      setPlayList(playList);\n    }\n  };\n\n  const moveItem = (dragIndex, hoverIndex) => {\n    const item = items[dragIndex];\n\n    setItems((prevState) => {\n      const newItems = prevState.filter((i, idx) => idx !== dragIndex);\n      newItems.splice(hoverIndex, 0, item);\n      return [...newItems];\n    });\n  };\n\n  return (\n    <StyledWrapperPlayList>\n      <NavigationPlayList />\n      {match.isExact === true ? (\n        <StyledH1PlayList>Manage your playList</StyledH1PlayList>\n      ) : (\n        <Statusses\n          isLoading={isLoading}\n          items={items}\n          moveItem={moveItem}\n          onDrop={onDrop}\n          statuses={statuses}\n          playList={playList}\n          setPlayList={setPlayList}\n          changeStatusItems={changeStatusItems}\n        />\n      )}\n      <Error isError={isError} massage={error?.message} />\n    </StyledWrapperPlayList>\n  );\n};\n\nexport default PlayList;\n"],"sourceRoot":""}