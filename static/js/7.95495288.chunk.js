(this.webpackJsonpplaylist=this.webpackJsonpplaylist||[]).push([[7],{106:function(t,e,r){"use strict";r.r(e);var n=r(51),u=r.n(n),s=r(64);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){Object(s.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var o=r(52),i=r(0),l=r(4),p=r(105),h=r(72),f=r(27),b=r(54),d=r(3),O=Object(i.lazy)((function(){return Promise.all([r.e(2),r.e(13)]).then(r.bind(null,69))}));e.default=function(){var t=Object(l.g)().id,e=Object(l.f)(),r=Object(p.a)(["author",{id:t}],b.c),n=r.data,s=r.error,a=r.isLoading,i=r.isError,v=Object(h.a)(b.e),j=v.mutateAsync,w=v.isLoading,m=function(){var r=Object(o.a)(u.a.mark((function r(n){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j(c(c({},n),{},{id:t}));case 2:e.push("/authors");case 3:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[a?Object(d.jsx)(f.a,{}):Object(d.jsx)(O,{defaultValue:n,onFormSubmit:m,isLoading:w}),i&&Object(d.jsxs)("span",{children:["Error: ",s.message]})]})}},54:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return l})),r.d(e,"e",(function(){return p})),r.d(e,"c",(function(){return h}));var n=r(56),u=r(59),s=r(51),a=r.n(s),c=r(52),o=function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://sandbox.aurafutures.io","/justyna-olszewska-authors"));case 3:return e=t.sent,t.abrupt("return",e.json());case 7:throw t.prev=7,t.t0=t.catch(0),new Error("somthing went wrong: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://sandbox.aurafutures.io","/justyna-olszewska-authors/").concat(e),{method:"DELETE"});case 3:return t.abrupt("return",!0);case 6:throw t.prev=6,t.t0=t.catch(0),new Error("somthing went wrong: ".concat(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("http://sandbox.aurafutures.io","/justyna-olszewska-authors"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(0),new Error("somthing went wrong: ".concat(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,n,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,n=Object(u.a)(e,["id"]),t.prev=1,t.next=4,fetch("".concat("http://sandbox.aurafutures.io","/justyna-olszewska-authors/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return s=t.sent,t.next=7,s.json();case 7:return c=t.sent,t.abrupt("return",c);case 11:throw t.prev=11,t.t0=t.catch(1),new Error("somthing went wrong: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(a.a.mark((function t(e){var r,u,s,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.queryKey,u=Object(n.a)(r,2),u[0],s=u[1].id,t.prev=2,t.next=5,fetch("".concat("http://sandbox.aurafutures.io","/justyna-olszewska-authors/").concat(s));case 5:return c=t.sent,t.abrupt("return",c.json());case 9:throw t.prev=9,t.t0=t.catch(2),new Error("somthing went wrong: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},64:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},72:function(t,e,r){"use strict";r.d(e,"a",(function(){return h}));var n=r(2),u=r(0),s=r.n(u),a=r(6),c=r(1),o=r(5),i=r(26),l=function(t){function e(e,r){var n;return(n=t.call(this)||this).client=e,n.setOptions(r),n.bindMethods(),n.updateResult(),n}Object(o.a)(e,t);var r=e.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},r.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},r.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(n.a)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:Object(i.b)();this.currentResult=Object(n.a)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},r.notify=function(t){var e=this;a.a.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(r(10).a),p=r(46);function h(t,e,r){var u=s.a.useRef(!1),o=s.a.useState(0)[1],i=Object(c.k)(t,e,r),h=Object(p.b)(),f=s.a.useRef();f.current?f.current.setOptions(i):f.current=new l(h,i);var b=f.current.getCurrentResult();s.a.useEffect((function(){u.current=!0;var t=f.current.subscribe(a.a.batchCalls((function(){u.current&&o((function(t){return t+1}))})));return function(){u.current=!1,t()}}),[]);var d=s.a.useCallback((function(t,e){f.current.mutate(t,e).catch(c.i)}),[]);if(b.error&&f.current.options.useErrorBoundary)throw b.error;return Object(n.a)({},b,{mutate:d,mutateAsync:b.mutate})}}}]);
//# sourceMappingURL=7.95495288.chunk.js.map