(this.webpackJsonpplaylist=this.webpackJsonpplaylist||[]).push([[14],{138:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n,i=r(18),u=r(16),s=Object(u.css)(n||(n=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n"])))},142:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(151);var i=r(149);function u(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},144:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(145);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},145:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},146:function(t,e,r){"use strict";r.d(e,"a",(function(){return b})),r.d(e,"b",(function(){return h}));var n,i,u,s,a,c,o=r(18),l=r(16),d=r(138),f=r(370),b=l.default.form(n||(n=Object(o.a)(["\n  ","\n  align-items: center;\n  justify-content: center;\n  height: 60vh;\n  ","\n  ","\n    ","\n  @media(min-height: 900px) {\n    justify-content: flex-start;\n  }\n"])),d.a,(function(t){return"add"===t.type&&Object(l.css)(i||(i=Object(o.a)(["\n      text-transform: uppercase;\n      color: red;\n    "])))}),(function(t){return"update"===t.update&&Object(l.css)(u||(u=Object(o.a)(["\n      height: 500px;\n      width: 200px;\n      justify-content: start;\n    "])))}),(function(t){return"add"===t.add&&Object(l.css)(s||(s=Object(o.a)(["\n      height: 500px;\n      width: 200px;\n      justify-content: start;\n    "])))})),h=Object(l.default)(f.a)(a||(a=Object(o.a)(["\n  margin: 10px 0;\n  ","\n"])),(function(t){return"song"===t.typeSong&&Object(l.css)(c||(c=Object(o.a)(["\n      width: 100%;\n    "])))}))},147:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return u})),r.d(e,"b",(function(){return s}));var n=r(166),i=n.b().shape({name:n.c().required("Title field is required").max(30,"Title field should contains max 30 characters")}),u=n.b().shape({title:n.c().required("Title field is required").max(30,"Title field should contains max 30 characters"),author:n.c().required("Author fields is required"),duration:n.a().typeError("Duration field must be a number").required("Duration field is required")}),s=n.b().shape({name:n.c().required("Playlist name field is required").max(30,"Playlist name field should contains max 30 characters")})},153:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(1),i=r(0),u=r.n(i),s=r(10),a=r(2),c=r(7),o=r(61),l=function(t){function e(e,r){var n;return(n=t.call(this)||this).client=e,n.setOptions(r),n.bindMethods(),n.updateResult(),n}Object(c.a)(e,t);var r=e.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},r.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},r.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(n.a)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:Object(o.b)();this.currentResult=Object(n.a)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},r.notify=function(t){var e=this;s.a.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(r(26).a),d=r(99);function f(t,e,r){var i=u.a.useRef(!1),c=u.a.useState(0)[1],o=Object(a.k)(t,e,r),f=Object(d.b)(),b=u.a.useRef();b.current?b.current.setOptions(o):b.current=new l(f,o);var h=b.current.getCurrentResult();u.a.useEffect((function(){i.current=!0;var t=b.current.subscribe(s.a.batchCalls((function(){i.current&&c((function(t){return t+1}))})));return function(){i.current=!1,t()}}),[]);var p=u.a.useCallback((function(t,e){b.current.mutate(t,e).catch(a.i)}),[]);if(h.error&&b.current.options.useErrorBoundary)throw h.error;return Object(n.a)({},h,{mutate:p,mutateAsync:h.mutate})}},204:function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n),u=r(154),s=r(158),a=r(140),c=r(389),o=r(129),l=r(371),d=r(146),f=r(136),b=r.n(f),h=r(144),p=r(137),m=r(99),O=r(153),j=r(9),y=r(147),v=r(3),x=function(t){var e=t.isLoading,r=t.type,i=t.allAuthors,f=t.defaultValue,x=t.children,g=Object(u.b)({defaultValues:f,resolver:Object(s.a)(y.c)}),R=g.register,w=g.handleSubmit,S=g.errors,q=g.reset,M=g.setValue,E=S||{},P=E.duration,A=E.title,D=E.author,T=f.title,k=f.duration,C=f.author,F=void 0===C?{}:C,I=(P||{}).message,V=(A||{}).message,J=(D||{}).message;Object(n.useEffect)((function(){M("title",T),M("duration",k),M("author",F)}),[f]);var L=function(t,e,r){var n=Object(j.g)().id,i=Object(m.b)(),u=Object(O.a)(t).mutateAsync,s=function(){var t=Object(p.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(n?Object(h.a)(Object(h.a)({},e),{},{id:n}):e);case 2:i.invalidateQueries("songs");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{onSubmit:function(t){var n=t.author,i=t.title,u=t.duration,a=r.filter((function(t){return t.name===n}));s({title:i,author:a[0],duration:u}),e()}}}("add"===r?a.a:a.e,q,i).onSubmit;return Object(v.jsx)(n.Fragment,{children:Object(v.jsxs)(d.a,{style:{position:"relative"},type:r,onSubmit:w(L),children:[Object(v.jsx)("h1",{children:x}),Object(v.jsx)(c.a,{htmlFor:"tite",children:"Title of song"}),Object(v.jsx)(d.b,{required:!0,type:"text",id:"title",name:"title",inputRef:R,errors:A}),Object(v.jsx)(c.a,{style:{margin:"10px 0"},htmlFor:"author",children:"Author"}),Object(v.jsx)("select",{style:{width:"80%",margin:"0 0 20px 0"},id:"author",name:"author",errors:D,ref:R,children:i&&i.map((function(t){return Object(v.jsx)("option",{value:t.name,children:t.name},t.id)}))}),Object(v.jsx)(c.a,{htmlFor:"duration",children:"Duration"}),Object(v.jsx)(d.b,{required:!0,type:"number",inputProps:{min:"1",max:"10",step:"1"},id:"duration",name:"duration",inputRef:R,errors:P}),Object(v.jsx)(o.a,{style:{margin:"10px 0"},variant:"outlined",color:"primary",type:"submit",children:e?"Wait...":x.split(" ").slice(0,1)}),S.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("div",{style:{position:"absolute",top:"-30%",width:"100%"},children:(A||P||D)&&Object(v.jsx)(l.a,{children:V||I||J})})]})})};e.default=i.a.memo(x)}}]);
//# sourceMappingURL=14.aa4be4be.chunk.js.map