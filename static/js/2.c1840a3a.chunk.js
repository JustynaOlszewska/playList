(this.webpackJsonpplaylist=this.webpackJsonpplaylist||[]).push([[2],{112:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return b}));var r=n(109),u=n(111),i=n(107),c=n.n(i),s=n(108),a="".concat("http://sandbox.aurafutures.io","/").concat("justyna-olszewska"),o=function(){var t=Object(s.a)(c.a.mark((function t(e,n,r){var u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return u=t.sent,t.abrupt("return","DELETE"===n||u.json());case 7:throw t.prev=7,t.t0=t.catch(0),new Error("somthing went wrong: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),l=function(){return o("".concat(a,"-songs"),"GET")},f=function(t){return o("".concat(a,"-songs/").concat(t),"DELETE")},d=function(t){return o("".concat(a,"-songs"),"POST",t)},p=function(t){var e=t.id,n=Object(u.a)(t,["id"]);return o("".concat(a,"-songs/").concat(e),"PUT",n)},b=function(t){var e=t.queryKey,n=Object(r.a)(e,2),u=(n[0],n[1].id);return o("".concat(a,"-songs/").concat(u),"GET")}},113:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},114:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,u=n(19),i=n(18),c=Object(i.css)(r||(r=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"])))},115:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(113);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},122:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(1),u=n(0),i=n.n(u),c=n(9),s=n(2),a=n(6),o=n(50),l=function(t){function e(e,n){var r;return(r=t.call(this)||this).client=e,r.setOptions(n),r.bindMethods(),r.updateResult(),r}Object(a.a)(e,t);var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},n.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},n.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(r.a)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:Object(o.b)();this.currentResult=Object(r.a)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},n.notify=function(t){var e=this;c.a.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(n(22).a),f=n(78);function d(t,e,n){var u=i.a.useRef(!1),a=i.a.useState(0)[1],o=Object(s.k)(t,e,n),d=Object(f.b)(),p=i.a.useRef();p.current?p.current.setOptions(o):p.current=new l(d,o);var b=p.current.getCurrentResult();i.a.useEffect((function(){u.current=!0;var t=p.current.subscribe(c.a.batchCalls((function(){u.current&&a((function(t){return t+1}))})));return function(){u.current=!1,t()}}),[]);var h=i.a.useCallback((function(t,e){p.current.mutate(t,e).catch(s.i)}),[]);if(b.error&&p.current.options.useErrorBoundary)throw b.error;return Object(r.a)({},b,{mutate:h,mutateAsync:b.mutate})}},126:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d}));var r,u,i,c,s=n(19),a=n(18),o=n(114),l=n(161),f=a.default.form(r||(r=Object(s.a)(["\n  ","\n  align-items: center;\n  justify-content: center;\n  height: 60vh;\n  ","\n"])),o.a,(function(t){return"add"===t.type&&Object(a.css)(u||(u=Object(s.a)(["\n      text-transform: uppercase;\n      color: red;\n    "])))})),d=Object(a.default)(l.a)(i||(i=Object(s.a)(["\n  margin: 10px 0;\n  ","\n"])),(function(t){return"song"===t.typeSong&&Object(a.css)(c||(c=Object(s.a)(["\n      width: 100%;\n    "])))}))},135:function(t,e,n){"use strict";n.r(e);var r=n(107),u=n.n(r),i=n(115),c=n(108),s=(n(0),n(136)),a=n(7),o=n(78),l=n(122),f=n(174),d=n(104),p=n(112),b=n(126),h=n(4);e.default=function(t){var e=t.defaultValue,n=t.isLoading,r=t.type,O=t.allAuthors,j=t.typeSong,m=t.children,v=Object(a.g)().id,y=Object(s.a)({defaultValue:e}),g=y.register,x=y.handleSubmit,R=y.errors,w=y.reset,S=Object(o.b)(),E="add"===r?p.a:p.e,M=Object(l.a)(E).mutateAsync,P=x((function(t){var e=t.author,n=t.title,r=t.duration,u=O.filter((function(t){return t.name===e}));T({title:n,author:u[0],duration:r}),w()})),T=function(){var t=Object(c.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(v?Object(i.a)(Object(i.a)({},e),{},{id:v}):e);case 2:S.invalidateQueries("songs");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(b.a,{type:r,onSubmit:P,children:[Object(h.jsx)("h1",{children:m}),Object(h.jsx)(f.a,{htmlFor:"tite",children:"Title of song"}),Object(h.jsx)(b.b,{required:!0,type:"text",id:"title",name:"title",inputProps:{maxLength:30},inputRef:g}),Object(h.jsx)(f.a,{style:{margin:"10px 0"},htmlFor:"author",children:"Author"}),Object(h.jsx)("select",{style:{width:"80%",margin:"0 0 20px 0"},id:"author",name:"author",ref:g,children:O&&O.map((function(t){return Object(h.jsx)("option",{value:t.name,children:t.name},t.id)}))}),Object(h.jsx)(f.a,{htmlFor:"duration",children:"Duration"}),Object(h.jsx)(b.b,{required:!0,typeSong:j,type:"number",inputProps:{min:"1",max:"10",step:"1"},id:"duration",name:"duration",ref:g}),Object(h.jsx)(d.a,{variant:"outlined",color:"primary",type:"Submit",children:n?"Wait...":m.split(" ").slice(0,1)}),R.exampleRequired&&Object(h.jsx)("span",{children:"This field is required"})]})}}}]);
//# sourceMappingURL=2.c1840a3a.chunk.js.map