(this.webpackJsonpplaylist=this.webpackJsonpplaylist||[]).push([[15,29],{139:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,i=n(20),s=n(19),a=Object(s.css)(r||(r=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n"])))},147:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return h}));var r,i,s,a,u=n(20),c=n(19),o=n(139),l=n(372),d=c.default.form(r||(r=Object(u.a)(["\n  ","\n  align-items: center;\n  justify-content: center;\n  height: 60vh;\n  ","\n  @media(min-height: 900px) {\n    justify-content: flex-start;\n  }\n"])),o.a,(function(t){return"add"===t.type&&Object(c.css)(i||(i=Object(u.a)(["\n      text-transform: uppercase;\n      color: red;\n    "])))})),h=Object(c.default)(l.a)(s||(s=Object(u.a)(["\n  margin: 10px 0;\n  ","\n"])),(function(t){return"song"===t.typeSong&&Object(c.css)(a||(a=Object(u.a)(["\n      width: 100%;\n    "])))}))},148:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n(166),i=r.b().shape({name:r.c().required("Title field is required").max(30,"Title field should contains max 30 characters")}),s=r.b().shape({title:r.c().required("Title field is required").max(30,"Title field should contains max 30 characters"),author:r.c().required("Author fields is required"),duration:r.a().typeError("Duration field must be a number").required("Duration field is required")}),a=r.b().shape({name:r.c().required("Playlist name field is required").max(30,"Playlist name field should contains max 30 characters")})},154:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(1),i=n(0),s=n.n(i),a=n(10),u=n(2),c=n(7),o=n(61),l=function(t){function e(e,n){var r;return(r=t.call(this)||this).client=e,r.setOptions(n),r.bindMethods(),r.updateResult(),r}Object(c.a)(e,t);var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},n.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},n.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(r.a)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:Object(o.b)();this.currentResult=Object(r.a)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},n.notify=function(t){var e=this;a.a.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(n(26).a),d=n(100);function h(t,e,n){var i=s.a.useRef(!1),c=s.a.useState(0)[1],o=Object(u.k)(t,e,n),h=Object(d.b)(),b=s.a.useRef();b.current?b.current.setOptions(o):b.current=new l(h,o);var f=b.current.getCurrentResult();s.a.useEffect((function(){i.current=!0;var t=b.current.subscribe(a.a.batchCalls((function(){i.current&&c((function(t){return t+1}))})));return function(){i.current=!1,t()}}),[]);var p=s.a.useCallback((function(t,e){b.current.mutate(t,e).catch(u.i)}),[]);if(f.error&&b.current.options.useErrorBoundary)throw f.error;return Object(r.a)({},f,{mutate:p,mutateAsync:f.mutate})}},185:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return o}));var r=n(135),i=n(140),s=n(136),a=function(){return Object(s.a)("".concat(s.b,"-playlists"),"GET")},u=function(t){return Object(s.a)("".concat(s.b,"-playlists"),"POST",t)},c=function(t){var e=t.id,n=Object(i.a)(t,["id"]);return console.log("ww",e,n),Object(s.a)("".concat(s.b,"-playlists/").concat(e),"PUT",n)},o=function(t){var e=t.queryKey,n=Object(r.a)(e,2),i=(n[0],n[1].id);return Object(s.a)("".concat(s.b,"-playlists/").concat(i),"GET")}},233:function(t,e,n){"use strict";n.r(e);n(0);var r=n(3);e.default=function(t){var e=t.playList,n=t.children,i=t.text;return Object(r.jsx)(r.Fragment,{children:e.length?Object(r.jsx)("div",{style:{width:"100%"},id:"children",children:n}):Object(r.jsx)("span",{style:{margin:"0 auto"},children:i})})}},349:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),s=n(374),a=n(137),u=n.n(a),c=n(138),o=n(146),l=n(135),d=n(155),h=n(100),b=n(154),f=n(159),p=n(68),O=n(373),j=n(385),m=n(130),y=n(147),v=n(185),x=n(60),g=n(233),S=n(148),R=n(3),w=Object(r.lazy)((function(){return n.e(0).then(n.bind(null,170))})),E=function(t){var e=t.playList,n=t.data,i=t.children,a=t.changeStatusItems,E=t.type,M=Object(p.b)().enqueueSnackbar,q=n.find((function(t){return t.id})),L=Object(r.useState)(q.id),C=Object(l.a)(L,2),k=C[0],T=C[1],D=Object(s.a)(["playlists",{id:k}],v.c),I=D.data,J=D.error,P=D.isLoading,N=D.isError,U=Object(d.b)({defaultValues:I,resolver:Object(f.a)(S.b)}),A=U.register,F=U.handleSubmit,G=(U.errors||{}).name,z=(G=void 0===G?{}:G).message,B=void 0===z?null:z,K=Object(h.b)(),Q=Object(b.a)(v.d),V=Q.mutateAsync,W=Q.isLoading,Y=function(){var t=Object(c.a)(u.a.mark((function t(e,n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e||{}).playLists,t.next=3,V({name:r,songs:n,id:k});case 3:K.invalidateQueries("playlists");case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(R.jsxs)("div",{style:{display:"flex",position:"relative"},children:[Object(R.jsxs)(y.a,{onSubmit:F((function(t){if(0!==e.length){var n=JSON.parse(JSON.stringify(I)),r=[].concat(Object(o.a)(n.songs.map((function(t){return t.id}))),Object(o.a)(e.map((function(t){return t.id}))));Y(t,r),a()}else M("Your playlist is empty")})),style:{height:"500px",width:"200px",justifyContent:"start"},children:[Object(R.jsx)(j.a,{style:{margin:"10px 0"},htmlFor:"name",children:"Choose some playlist"}),Object(R.jsx)("select",{onClick:function(t){var e=n.find((function(e){return e.name===t.target.value}));T(e.id)},style:{width:"100px",height:"30px",margin:"0 0 20px 0"},id:"name",name:"name",errors:B,ref:A,children:P?Object(R.jsx)(x.a,{}):n.map((function(t){var e=t.name,n=t.id;return Object(R.jsx)("option",{children:e},n)}))}),Object(R.jsx)("div",{style:{width:"200px",height:"100%",display:"flex",alignItems:"center"},children:Object(R.jsx)(g.default,{playList:e,text:"Drop here songs",children:i})}),Object(R.jsx)(m.a,{variant:"outlined",color:"primary",type:"Submit",children:W?"Wait...":E})]}),B&&Object(R.jsx)(O.a,{severity:"error",style:{position:"absolute",top:"50%",zIndex:"3",width:"100vw"},children:B}),Object(R.jsx)("div",{style:{backgroundColor:"#FDDD55",margin:"0 0 0 15%",height:"400px",boxShadow:"5px 5px 8px #888888"},children:P?Object(R.jsx)(x.a,{}):null===I||void 0===I?void 0:I.songs.map((function(t){var e=t.title,n=t.id;return Object(R.jsx)("div",{style:{width:"200px"},children:e},n)}))}),Object(R.jsx)(w,{isError:N,massage:null===J||void 0===J?void 0:J.message})]})};e.default=function(t){var e=t.children,n=t.isOver,r=t.playList,a=t.setPlayList,u=t.changeStatusItems,c=Object(s.a)("playlists",v.b),o=c.data;return c.isLoading?Object(R.jsx)(x.a,{}):Object(R.jsx)("section",{style:{flexGrow:3,display:"flex"},children:Object(R.jsx)(E,{setPlayList:a,playList:r,data:JSON.parse(JSON.stringify(o)),changeStatusItems:u,type:"Update",children:i.a.cloneElement(e,{isOver:n})})})}}}]);
//# sourceMappingURL=15.c2f9a50a.chunk.js.map