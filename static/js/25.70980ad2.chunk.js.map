{"version":3,"sources":["../node_modules/react-query/es/core/mutationObserver.js","../node_modules/react-query/es/react/useMutation.js","hook/share/useRemove.js","styles/styleComponents/songs/StyledSong.js","components/molecules/songs/Song.js"],"names":["MutationObserver","_Subscribable","client","options","_this","call","this","setOptions","bindMethods","updateResult","_inheritsLoose","_proto","prototype","mutate","bind","reset","defaultMutationOptions","onUnsubscribe","_this$currentMutation","listeners","length","currentMutation","removeObserver","onMutationUpdate","action","notifyOptions","type","onSuccess","onError","notify","getCurrentResult","currentResult","undefined","variables","mutateOptions","getMutationCache","build","_extends","addObserver","execute","state","getDefaultState","isLoading","status","isSuccess","isError","isIdle","_this2","notifyManager","batch","data","context","onSettled","error","forEach","listener","Subscribable","useMutation","arg1","arg2","arg3","mountedRef","React","useRef","forceUpdate","useState","parseMutationArgs","queryClient","useQueryClient","obsRef","current","useEffect","unsubscribe","subscribe","batchCalls","x","useCallback","catch","noop","useErrorBoundary","mutateAsync","useRemove","source","id","target","history","useHistory","a","push","invalidateQueries","StyledLi","styled","li","FlexCenter","StyledNavLink","NavLink","Song","song","match","useRouteMatch","title","removeSong","remove","style","width","to","url","Button","variant","color","onClick","textDecoration"],"mappings":"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","file":"static/js/25.70980ad2.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { getDefaultState } from './mutation';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var MutationObserver = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationObserver, _Subscribable);\n\n  function MutationObserver(client, options) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.client = client;\n\n    _this.setOptions(options);\n\n    _this.bindMethods();\n\n    _this.updateResult();\n\n    return _this;\n  }\n\n  var _proto = MutationObserver.prototype;\n\n  _proto.bindMethods = function bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  };\n\n  _proto.setOptions = function setOptions(options) {\n    this.options = this.client.defaultMutationOptions(options);\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.listeners.length) {\n      var _this$currentMutation;\n\n      (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.removeObserver(this);\n    }\n  };\n\n  _proto.onMutationUpdate = function onMutationUpdate(action) {\n    this.updateResult(); // Determine which callbacks to trigger\n\n    var notifyOptions = {\n      listeners: true\n    };\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error') {\n      notifyOptions.onError = true;\n    }\n\n    this.notify(notifyOptions);\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  };\n\n  _proto.reset = function reset() {\n    this.currentMutation = undefined;\n    this.updateResult();\n    this.notify({\n      listeners: true\n    });\n  };\n\n  _proto.mutate = function mutate(variables, options) {\n    this.mutateOptions = options;\n\n    if (this.currentMutation) {\n      this.currentMutation.removeObserver(this);\n    }\n\n    this.currentMutation = this.client.getMutationCache().build(this.client, _extends({}, this.options, {\n      variables: typeof variables !== 'undefined' ? variables : this.options.variables\n    }));\n    this.currentMutation.addObserver(this);\n    return this.currentMutation.execute();\n  };\n\n  _proto.updateResult = function updateResult() {\n    var state = this.currentMutation ? this.currentMutation.state : getDefaultState();\n    this.currentResult = _extends({}, state, {\n      isLoading: state.status === 'loading',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset\n    });\n  };\n\n  _proto.notify = function notify(options) {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      // First trigger the mutate callbacks\n      if (_this2.mutateOptions) {\n        if (options.onSuccess) {\n          _this2.mutateOptions.onSuccess == null ? void 0 : _this2.mutateOptions.onSuccess(_this2.currentResult.data, _this2.currentResult.variables, _this2.currentResult.context);\n          _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(_this2.currentResult.data, null, _this2.currentResult.variables, _this2.currentResult.context);\n        } else if (options.onError) {\n          _this2.mutateOptions.onError == null ? void 0 : _this2.mutateOptions.onError(_this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);\n          _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(undefined, _this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);\n        }\n      } // Then trigger the listeners\n\n\n      if (options.listeners) {\n        _this2.listeners.forEach(function (listener) {\n          listener(_this2.currentResult);\n        });\n      }\n    });\n  };\n\n  return MutationObserver;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { noop, parseMutationArgs } from '../core/utils';\nimport { MutationObserver } from '../core/mutationObserver';\nimport { useQueryClient } from './QueryClientProvider';\nexport function useMutation(arg1, arg2, arg3) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var options = parseMutationArgs(arg1, arg2, arg3);\n  var queryClient = useQueryClient();\n  var obsRef = React.useRef();\n\n  if (!obsRef.current) {\n    obsRef.current = new MutationObserver(queryClient, options);\n  } else {\n    obsRef.current.setOptions(options);\n  }\n\n  var currentResult = obsRef.current.getCurrentResult();\n  React.useEffect(function () {\n    mountedRef.current = true;\n    var unsubscribe = obsRef.current.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    }));\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, []);\n  var mutate = React.useCallback(function (variables, mutateOptions) {\n    obsRef.current.mutate(variables, mutateOptions).catch(noop);\n  }, []);\n\n  if (currentResult.error && obsRef.current.options.useErrorBoundary) {\n    throw currentResult.error;\n  }\n\n  return _extends({}, currentResult, {\n    mutate: mutate,\n    mutateAsync: currentResult.mutate\n  });\n}","import { useMutation, useQueryClient } from \"react-query\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useRemove = (source, id, target) => {\n  const history = useHistory();\n\n  const queryClient = useQueryClient();\n  const { mutateAsync, isLoading } = useMutation(source);\n  const remove = async () => {\n    history.push(\"/songs\");\n    await mutateAsync(id);\n    queryClient.invalidateQueries(target);\n  };\n  return [remove, isLoading];\n};\n","import styled from \"styled-components\";\nimport { NavLink } from \"react-router-dom\";\nimport { FlexCenter } from \"../../helperStyles/FlexCenter\";\n\nexport const StyledLi = styled.li`\n  ${FlexCenter}\n  word-wrap: break-word;\n  width: 90%;\n  margin: 10px 0;\n  flex-direction: column;\n  @media (min-width: 767px) {\n    flex-direction: row;\n  }\n`;\n\nexport const StyledNavLink = styled(NavLink)`\n  margin: 5px 0;\n  text-align: center;\n  @media (min-width: 767px) {\n    margin: 0;\n    text-align: left;\n  }\n`;\n","import React from \"react\";\nimport { useRouteMatch, NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport { removeSong } from \"../../../api/apiSongs\";\nimport {\n  StyledLi,\n  StyledNavLink,\n} from \"../../../styles/styleComponents/songs/StyledSong\";\nimport { useRemove } from \"../../../hook/share/useRemove\";\n\nconst Song = ({ song }) => {\n  const match = useRouteMatch();\n\n  const { title, id } = song;\n\n  const [remove, isLoading] = useRemove(removeSong, id, \"songs\");\n\n  return (\n    <StyledLi>\n      <StyledNavLink\n        style={{ width: \"150px\" }}\n        to={`${match.url}/songDetails/${id}`}\n      >\n        {title}\n      </StyledNavLink>\n      <div>\n        <Button variant=\"outlined\" color=\"primary\" onClick={remove}>\n          {isLoading ? \"wait...\" : \"Delete\"}\n        </Button>\n        <Button variant=\"outlined\" color=\"inherit\">\n          <NavLink\n            style={{ textDecoration: \"none\" }}\n            to={`${match.url}/changeSong/${id}`}\n          >\n            Change Details\n          </NavLink>\n        </Button>\n      </div>\n    </StyledLi>\n  );\n};\n\nSong.propTypes = {\n  song: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string,\n  }),\n};\n\nexport default Song;\n"],"sourceRoot":""}