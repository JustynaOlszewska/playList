(this.webpackJsonpplaylist=this.webpackJsonpplaylist||[]).push([[17],{146:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return h}));var r,i,a,s,u,c,o=n(18),l=n(16),d=n(138),b=n(370),f=l.default.form(r||(r=Object(o.a)(["\n  ","\n  align-items: center;\n  justify-content: center;\n  height: 60vh;\n  ","\n  ","\n    ","\n  @media(min-height: 900px) {\n    justify-content: flex-start;\n  }\n"])),d.a,(function(t){return"add"===t.type&&Object(l.css)(i||(i=Object(o.a)(["\n      text-transform: uppercase;\n      color: red;\n    "])))}),(function(t){return"update"===t.update&&Object(l.css)(a||(a=Object(o.a)(["\n      height: 500px;\n      width: 200px;\n      justify-content: start;\n    "])))}),(function(t){return"add"===t.add&&Object(l.css)(s||(s=Object(o.a)(["\n      height: 500px;\n      width: 200px;\n      justify-content: start;\n    "])))})),h=Object(l.default)(b.a)(u||(u=Object(o.a)(["\n  margin: 10px 0;\n  ","\n"])),(function(t){return"song"===t.typeSong&&Object(l.css)(c||(c=Object(o.a)(["\n      width: 100%;\n    "])))}))},147:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n(166),i=r.b().shape({name:r.c().required("Title field is required").max(30,"Title field should contains max 30 characters")}),a=r.b().shape({title:r.c().required("Title field is required").max(30,"Title field should contains max 30 characters"),author:r.c().required("Author fields is required"),duration:r.a().typeError("Duration field must be a number").required("Duration field is required")}),s=r.b().shape({name:r.c().required("Playlist name field is required").max(30,"Playlist name field should contains max 30 characters")})},153:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(1),i=n(0),a=n.n(i),s=n(10),u=n(2),c=n(7),o=n(61),l=function(t){function e(e,n){var r;return(r=t.call(this)||this).client=e,r.setOptions(n),r.bindMethods(),r.updateResult(),r}Object(c.a)(e,t);var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},n.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},n.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(r.a)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:Object(o.b)();this.currentResult=Object(r.a)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},n.notify=function(t){var e=this;s.a.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(n(26).a),d=n(99);function b(t,e,n){var i=a.a.useRef(!1),c=a.a.useState(0)[1],o=Object(u.k)(t,e,n),b=Object(d.b)(),f=a.a.useRef();f.current?f.current.setOptions(o):f.current=new l(b,o);var h=f.current.getCurrentResult();a.a.useEffect((function(){i.current=!0;var t=f.current.subscribe(s.a.batchCalls((function(){i.current&&c((function(t){return t+1}))})));return function(){i.current=!1,t()}}),[]);var p=a.a.useCallback((function(t,e){f.current.mutate(t,e).catch(u.i)}),[]);if(h.error&&f.current.options.useErrorBoundary)throw h.error;return Object(r.a)({},h,{mutate:p,mutateAsync:h.mutate})}},165:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return o}));var r=n(134),i=n(139),a=n(135),s=function(){return Object(a.a)("".concat(a.b,"-playlists"),"GET")},u=function(t){return Object(a.a)("".concat(a.b,"-playlists"),"POST",t)},c=function(t){var e=t.id,n=Object(i.a)(t,["id"]);return Object(a.a)("".concat(a.b,"-playlists/").concat(e),"PUT",n)},o=function(t){var e=t.queryKey,n=Object(r.a)(e,2),i=(n[0],n[1].id);return Object(a.a)("".concat(a.b,"-playlists/").concat(i),"GET")}},203:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(136),i=n.n(r),a=n(137),s=n(142),u=n(99),c=n(153),o=n(68),l=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,b=Object(o.b)(),f=b.enqueueSnackbar,h=Object(u.b)(),p=Object(c.a)(t),O=p.mutateAsync,j=p.isLoading,m=function(t){if(0!==e.length){var i=JSON.parse(JSON.stringify(l)),a=i?[].concat(Object(s.a)(i.songs.map((function(t){return t.id}))),Object(s.a)(e.map((function(t){return t.id})))):e.map((function(t){return t.id}));v(t,a),n(),null!==r&&r()}else f("Your playlist is empty")},v=function(){var t=Object(a.a)(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e||{}).name,t.next=3,O(d?{name:r,songs:n,id:d}:{name:r,songs:n});case 3:h.invalidateQueries("playlists");case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{onSubmit:m,isLoading:j}}},344:function(t,e,n){"use strict";n.r(e);var r,i,a,s,u,c,o,l,d=n(0),b=n.n(d),f=n(372),h=n(154),p=n(158),O=n(129),j=n(146),m=n(165),v=n(147),y=n(203),x=n(134),g=n(18),S=n(16),R=n(389),L=n(238),E=n(371),w=S.default.div(r||(r=Object(g.a)(["\n  display: flex;\n  position: relative;\n"]))),M=Object(S.default)(R.a)(i||(i=Object(g.a)(["\n  margin: 10px 0;\n"]))),P=Object(S.default)(L.a)(a||(a=Object(g.a)(["\n  width: 100px;\n  height: 30px;\n  margin: 0 0 20px 0;\n"]))),q=S.default.div(s||(s=Object(g.a)(["\n  width: 200px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n"]))),I=Object(S.default)(E.a)(u||(u=Object(g.a)(["\n  position: absolute;\n  top: 50%;\n  z-index: 3;\n  width: 100vw;\n"]))),k=S.default.div(c||(c=Object(g.a)(["\n  background-color: #fddd55;\n  margin: 0 0 0 15%;\n  height: 400px;\n  box-shadow: 5px 5px 8px #888888;\n"]))),T=S.default.div(o||(o=Object(g.a)(["\n  width: 200px;\n"]))),C=n(60),J=n(3),G=Object(d.lazy)((function(){return n.e(4).then(n.bind(null,391))})),N=Object(d.lazy)((function(){return n.e(0).then(n.bind(null,190))})),U=function(t){var e=t.playList,n=t.data,r=t.children,i=t.changeStatusItems,a=t.type,s=function(t){var e=t.find((function(t){return t.id})),n=Object(d.useState)(e.id),r=Object(x.a)(n,2),i=r[0],a=r[1],s=Object(f.a)(["playlists",{id:i}],m.c);return{id:i,dataGetPlayListId:s.data,errorPlayList:s.error,isLoadingPlayListId:s.isLoading,isErrorPlayList:s.isError,setIdElement:a}}(n),u=s.id,c=s.dataGetPlayListId,o=s.errorPlayList,l=s.isLoadingPlayListId,b=s.isErrorPlayList,g=s.setIdElement,S=Object(h.b)({resolver:Object(p.a)(v.b)}),R=S.register,L=S.handleSubmit,E=(S.errors||{}).name,U=(E=void 0===E?{}:E).message,z=void 0===U?null:U,A=(c||{}).songs,D=void 0===A?{}:A,W=Object(y.a)(m.d,e,i,null,c,u),B=W.onSubmit,F=W.isLoading;return Object(J.jsxs)(w,{children:[Object(J.jsxs)(j.a,{update:"update",onSubmit:L(B),children:[Object(J.jsx)(M,{htmlFor:"name",children:"Choose some playlist"}),Object(J.jsx)(P,{onClick:function(t){var e=n.find((function(e){return e.name===t.target.value}));g(e.id)},id:"name",name:"name",errors:z,inputRef:R,children:F?"Wait...":n.map((function(t){var e=t.name,n=t.id;return Object(J.jsx)("option",{children:e},n)}))}),Object(J.jsx)(q,{children:Object(J.jsx)(G,{playList:e,text:"Drop here songs",children:r})}),Object(J.jsx)(O.a,{variant:"outlined",color:"primary",type:"Submit",children:F?"Wait...":a})]}),z&&Object(J.jsx)(I,{severity:"error",children:z}),Object(J.jsx)(k,{children:l?Object(J.jsx)(C.a,{}):D.map((function(t){var e=t.title,n=t.id;return Object(J.jsx)(T,{children:e},n)}))}),Object(J.jsx)(N,{isError:b,massage:null===o||void 0===o?void 0:o.message})]})},z=S.default.section(l||(l=Object(g.a)(["\n  flex-grow: 3;\n  display: flex;\n"])));e.default=function(t){var e=t.children,n=t.isOver,r=t.playList,i=t.setPlayList,a=t.changeStatusItems,s=Object(f.a)("playlists",m.b),u=s.data;return s.isLoading?Object(J.jsx)(C.a,{}):Object(J.jsx)(z,{children:Object(J.jsx)(U,{setPlayList:i,playList:r,data:JSON.parse(JSON.stringify(u)),changeStatusItems:a,type:"Update",children:b.a.cloneElement(e,{isOver:n})})})}}}]);
//# sourceMappingURL=17.8fda049f.chunk.js.map