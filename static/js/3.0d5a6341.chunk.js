(this.webpackJsonpplaylist=this.webpackJsonpplaylist||[]).push([[3],{113:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return j}));var r=n(110),i=n(112),a=n(108),o=n.n(a),c=n(109),u="".concat("http://sandbox.aurafutures.io","/").concat("justyna-olszewska"),s=function(){var t=Object(c.a)(o.a.mark((function t(e,n,r){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return i=t.sent,t.abrupt("return","DELETE"===n||i.json());case 7:throw t.prev=7,t.t0=t.catch(0),new Error("somthing went wrong: ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,r){return t.apply(this,arguments)}}(),d=function(){return s("".concat(u,"-songs"),"GET")},l=function(t){return s("".concat(u,"-songs/").concat(t),"DELETE")},f=function(t){return s("".concat(u,"-songs"),"POST",t)},h=function(t){var e=t.id,n=Object(i.a)(t,["id"]);return s("".concat(u,"-songs/").concat(e),"PUT",n)},j=function(t){var e=t.queryKey,n=Object(r.a)(e,2),i=(n[0],n[1].id);return s("".concat(u,"-songs/").concat(i),"GET")}},117:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,i=n(19),a=n(18),o=Object(a.css)(r||(r=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n"])))},144:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r,i,a,o,c=n(19),u=n(18),s=n(117),d=n(317),l=u.default.form(r||(r=Object(c.a)(["\n  ","\n  align-items: center;\n  justify-content: center;\n  height: 60vh;\n  ","\n    @media(min-height: 900px) {\n      justify-content: flex-start;\n    }\n"])),s.a,(function(t){return"add"===t.type&&Object(u.css)(i||(i=Object(c.a)(["\n      text-transform: uppercase;\n      color: red;\n    "])))})),f=Object(u.default)(d.a)(a||(a=Object(c.a)(["\n  margin: 10px 0;\n  ","\n"])),(function(t){return"song"===t.typeSong&&Object(u.css)(o||(o=Object(c.a)(["\n      width: 100%;\n    "])))}))},186:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(142),a=n(190),o=n(293),c=n(113),u=n(331),s=n(104),d=n(318),l=n(144),f=n(108),h=n.n(f),j=n(118),b=n(109),p=n(79),m=n(138),v=n(7),O=n(4),x=o.b().shape({title:o.c().required("Title field is required").max(30,"Title field should contains max 30 characters"),author:o.c().required("Author fiels is required"),duration:o.a().typeError("Duration field must be a number").required("Duration field is required")});e.default=function(t){var e,n,o,f,y,g,w=t.defaultValue,q=t.isLoading,T=t.type,E=t.allAuthors,S=t.typeSong,k=t.children,D=Object(i.b)({defaultValue:w,resolver:Object(a.a)(x)}),A=D.register,F=D.handleSubmit,J=D.errors,L=D.reset,P=function(t,e,n){var r=Object(v.g)().id,i=Object(p.b)(),a=Object(m.a)(t).mutateAsync,o=function(){var t=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(r?Object(j.a)(Object(j.a)({},e),{},{id:r}):e);case 2:i.invalidateQueries("songs");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{onSubmit:function(t){var r=t.author,i=t.title,a=t.duration,c=n.filter((function(t){return t.name===r}));o({title:i,author:c[0],duration:a}),e()}}}("add"===T?c.a:c.e,L,E).onSubmit;return Object(O.jsx)(r.Fragment,{children:Object(O.jsxs)(l.a,{style:{position:"relative"},type:T,onSubmit:F(P),children:[Object(O.jsx)("h1",{children:k}),Object(O.jsx)(u.a,{htmlFor:"tite",children:"Title of song"}),Object(O.jsx)(l.b,{required:!0,type:"text",id:"title",name:"title",inputRef:A,errors:J.title}),Object(O.jsx)(u.a,{style:{margin:"10px 0"},htmlFor:"author",children:"Author"}),Object(O.jsx)("select",{style:{width:"80%",margin:"0 0 20px 0"},id:"author",name:"author",ref:A,errors:J.author,children:E&&E.map((function(t){return Object(O.jsx)("option",{value:t.name,children:t.name},t.id)}))}),Object(O.jsx)(u.a,{htmlFor:"duration",children:"Duration"}),Object(O.jsx)(l.b,{required:!0,typeSong:S,type:"number",inputProps:{min:"1",max:"10",step:"1"},id:"duration",name:"duration",inputRef:A,errors:J.duration}),Object(O.jsx)(s.a,{variant:"outlined",color:"primary",type:"submit",children:q?"Wait...":k.split(" ").slice(0,1)}),J.exampleRequired&&Object(O.jsx)("span",{children:"This field is required"}),Object(O.jsxs)("div",{style:{position:"absolute",top:"-30%",width:"100%"},children:[(null===J||void 0===J||null===(e=J.title)||void 0===e?void 0:e.message)&&Object(O.jsx)(d.a,{severity:"error",children:Object(O.jsx)("p",{children:null===J||void 0===J||null===(n=J.title)||void 0===n?void 0:n.message})}),(null===J||void 0===J||null===(o=J.author)||void 0===o?void 0:o.message)&&Object(O.jsx)(d.a,{severity:"error",children:null===J||void 0===J||null===(f=J.author)||void 0===f?void 0:f.message}),(null===J||void 0===J||null===(y=J.duration)||void 0===y?void 0:y.message)&&Object(O.jsx)(d.a,{severity:"error",children:null===J||void 0===J||null===(g=J.duration)||void 0===g?void 0:g.message})]})]})})}}}]);
//# sourceMappingURL=3.0d5a6341.chunk.js.map